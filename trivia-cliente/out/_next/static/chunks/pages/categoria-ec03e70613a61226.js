(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{420:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categoria",function(){return r(4510)}])},4510:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var o=r(5893),n=r(7294);function a(){let[e,t]=(0,n.useState)("\xbfDe qu\xe9 color es el coraz\xf3n?"),[r,a]=(0,n.useState)("Azul"),[s,i]=(0,n.useState)("Rojo"),[l,c]=(0,n.useState)("Verde"),[d,h]=(0,n.useState)(null),u=async t=>{try{if(t.preventDefault(),!r||!s||!l||""===r.trim()||""===s.trim()||""===l.trim())throw Error("Debe proporcionar opciones v\xe1lidas.");let o=await fetch("http://localhost:3000/categoria",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pregunta:e,opcion:d})});if(!o.ok)throw Error("No se pudo guardar la categor\xeda...");let n=await o.json();console.dir(n)}catch(e){console.error(e)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:"titulo",children:e}),(0,o.jsxs)("form",{onSubmit:u,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"radio",id:"opcion1",name:"respuesta",value:r,onChange:e=>h(e.target.value)}),(0,o.jsx)("label",{htmlFor:"opcion1",children:r})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"radio",id:"opcion2",name:"respuesta",value:s,onChange:e=>h(e.target.value)}),(0,o.jsx)("label",{htmlFor:"opcion2",children:s})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"radio",id:"opcion3",name:"respuesta",value:l,onChange:e=>h(e.target.value)}),(0,o.jsx)("label",{htmlFor:"opcion3",children:l})]}),(0,o.jsx)("button",{type:"submit",children:"Responder"})]}),d&&(0,o.jsxs)("p",{children:["Tu respuesta: ",d]})]})}function s(){let[e,t]=(0,n.useState)([]),r=async()=>{try{let e=await fetch("http://localhost:3000/categoria");if(!e.ok)throw Error("Problemas al recuperar las categorias");let r=await e.json();t(r)}catch(e){console.log(e)}};(0,n.useEffect)(()=>{r()},[]);let a=async e=>{try{let t="http://localhost:3000/categoria?id="+e.id,o=await fetch(t,{method:"DELETE"});if(!o.ok)throw Error("No se pudo borrar");await o.json(),console.log("Categoria borrada"),r()}catch(e){console.log({error:e.message})}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"Listado de Categorias"}),(0,o.jsxs)("table",{border:1,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Id"}),(0,o.jsx)("th",{children:"Pregunta"}),(0,o.jsx)("th",{children:"Respuesta"}),(0,o.jsx)("th",{children:"Acciones"})]})}),(0,o.jsx)("tbody",{children:e.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.id}),(0,o.jsx)("td",{children:e.pregunta}),(0,o.jsx)("td",{children:e.opcion}),(0,o.jsxs)("td",{children:[(0,o.jsx)("button",{children:"Editar"}),(0,o.jsx)("button",{onClick:()=>a(e),children:"Eliminar"})]})]},e.id))})]})]})}function i(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{children:"hola"}),(0,o.jsx)(a,{}),(0,o.jsx)(s,{})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=420)}),_N_E=e.O()}]);